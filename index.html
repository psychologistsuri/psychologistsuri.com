<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Surendra Bisht</title>

    <script>
      (function () {
        const key = "ps_theme";
        const saved = localStorage.getItem(key);
        const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        const theme = saved === "dark" || saved === "light" ? saved : prefersDark ? "dark" : "light";
        if (theme === "dark") document.documentElement.classList.add("dark");
        document.documentElement.style.colorScheme = theme;
      })();
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = { darkMode: "class" };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/highlight.min.js"></script>

    <style>
      html.dark {
        color-scheme: dark;
      }

      .proseish h1 {
        font-size: 1.9rem;
        font-weight: 700;
        margin: 1.5rem 0;
      }

      .proseish h2 {
        font-size: 1.5rem;
        font-weight: 700;
        margin: 1.25rem 0;
      }

      .proseish p {
        margin: 0.75rem 0;
      }

      .proseish ul {
        list-style: disc;
        padding-left: 1.2rem;
      }

      .proseish blockquote {
        border-left: 4px solid #e5e7eb;
        padding-left: 1rem;
        margin: 1rem 0;
      }

      .dark .proseish blockquote {
        border-left-color: #334155;
      }

      .proseish code {
        background: #f3f4f6;
        padding: 0.2rem 0.4rem;
        border-radius: 0.6rem;
      }

      .dark .proseish code {
        background: #0f172a;
      }

      .proseish pre {
        background: #020617;
        color: #e5e7eb;
        padding: 1rem;
        border-radius: 1rem;
        overflow: auto;
      }

      @keyframes dots {
        0% { content: ""; }
        33% { content: "."; }
        66% { content: ".."; }
        100% { content: "..."; }
      }

      .dots::after {
        content: "";
        animation: dots 1.5s steps(3, end) infinite;
      }
    </style>
  </head>

  <body class="bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50">
    <div
      id="loader"
      class="fixed inset-0 z-50 flex items-center justify-center bg-white dark:bg-zinc-950"
    >
      <div class="text-lg font-medium tracking-wide">
        Website loading<span class="dots"></span>
      </div>
    </div>

    <header
      class="border-b border-zinc-300 dark:border-zinc-700 bg-white/80 dark:bg-zinc-950/80 backdrop-blur"
    >
      <div class="max-w-5xl mx-auto px-4 h-16 flex items-center justify-between">
        <a href="#/" class="font-semibold tracking-tight">Surendra Bisht</a>

        <div class="flex items-center gap-2">
          <nav class="hidden sm:flex gap-1 text-sm">
            <a
              href="#/"
              class="px-4 py-2 rounded-full border border-transparent hover:border-zinc-300 dark:hover:border-zinc-700"
              >Articles</a
            >
            <a
              href="#/about"
              class="px-4 py-2 rounded-full border border-transparent hover:border-zinc-300 dark:hover:border-zinc-700"
              >About</a
            >
          </nav>

          <button
            id="themeToggle"
            class="h-10 w-10 rounded-full border-2 border-zinc-300 dark:border-zinc-700 flex items-center justify-center"
          ></button>
        </div>
      </div>
    </header>

    <main class="max-w-5xl mx-auto px-4 py-10">
      <section id="listView">
        <div class="flex flex-col sm:flex-row gap-6 justify-between">
          <div>
            <h1 class="text-3xl font-bold">Articles</h1>
            <p class="text-zinc-600 dark:text-zinc-300 mt-1">
              Applied psychology, inclusive education & counseling
            </p>
          </div>

          <div class="w-full sm:w-80">
            <div
              class="flex items-center h-11 rounded-full border-2 border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-950 px-4 gap-3"
            >
              <span class="text-zinc-400">üîç</span>
              <input
                id="search"
                type="text"
                placeholder="Search articles"
                class="w-full bg-transparent outline-none text-sm"
              />
            </div>
          </div>
        </div>

        <div id="articleList" class="mt-8 grid gap-4"></div>
      </section>

      <section id="articleView" class="hidden">
        <div class="flex justify-between mb-6">
          <a
            href="#/"
            class="px-4 py-2 rounded-full border-2 border-zinc-300 dark:border-zinc-700"
            >Back</a
          >
          <button
            id="copyLinkBtn"
            class="px-4 py-2 rounded-full border-2 border-zinc-300 dark:border-zinc-700"
          >
            Copy link
          </button>
        </div>

        <h1 id="articleTitle" class="text-3xl font-bold"></h1>
        <div id="articleBody" class="mt-8 proseish"></div>
      </section>

      <section id="aboutView" class="hidden">
        <div class="rounded-3xl border-2 border-zinc-300 dark:border-zinc-700 p-6">
          <h1 class="text-2xl font-bold">About</h1>
          <p class="mt-2 text-zinc-600 dark:text-zinc-300">
            Special Educator & School Counselor ‚Äî Applied Psychology
          </p>
        </div>
      </section>
    </main>

    <script>
      const INDEX_URL = "/articles/index.json";
      const BASE = "/articles/";
      const qs = (s) => document.querySelector(s);

      function syncThemeIcon() {
        const b = qs("#themeToggle");
        b.textContent = document.documentElement.classList.contains("dark") ? "‚òÄÔ∏è" : "üåô";
      }

      syncThemeIcon();

      qs("#themeToggle").onclick = () => {
        const n = document.documentElement.classList.contains("dark") ? "light" : "dark";
        localStorage.setItem("ps_theme", n);
        location.reload();
      };

      window.addEventListener("load", () => {
        setTimeout(() => qs("#loader").classList.add("hidden"), 5000);
      });
    </script>
  </body>
</html>
